"use strict";(()=>{let t=[],e=t=>"string"!=typeof t?[]:t.split(" ").reduce(({keys:t,a:e},n)=>e[n]?{keys:t,a:e}:{keys:[...t,n],a:{...e,[n]:!0}},{keys:[],a:{}}).keys,n=(e,n,o)=>{if(e&&n&&o){var i=t.findIndex(([t])=>t===e),[,r]=t[i]||[e,{}];r[n]=r[n]||[],r[n].push(o),-1===i?t.push([e,r]):t[i]=[e,r]}};window.Vent=function(...t){this.length=0,this.add(...t)},window.acc=(...t)=>new window.Vent(...t),window.Vent.prototype.splice=function(...t){return Array.prototype.splice.apply(this,t)},window.Vent.prototype.each=function(...t){return Array.prototype.forEach.call(this,...t),this},window.Vent.prototype.add=function(...t){return t.forEach(t=>{(t?"string"==typeof t?[...document.querySelectorAll(t)]:t instanceof NodeList?[...t]:"function"==typeof t.addEventListener?[t]:[]:[]).forEach(t=>{for(let e=0;e<this.length;e++)if(this[e]===t)return;this[this.length]=t,this.length++})}),this},window.Vent.prototype.focus=function(){return this.length&&this[this.length-1].focus(),this},window.Vent.prototype.attr=function(t,e){if(!e&&"string"==typeof t)return 0<this.length?this[0].getAttribute(t):"";let n={};return"string"==typeof t?n[t]=e:n=t,this.each((function(t){for(let e in n)t.setAttribute&&t.setAttribute(e,"function"==typeof n[e]?n[e].call(t):n[e])})),this},window.Vent.prototype.removeAttr=function(t){let e=[];return"string"==typeof t?e.push(t):e=t,this.each((function(t){for(let n=0,o=e.length;n<o;n++)t.removeAttribute(e[n])})),this},window.Vent.prototype.addClass=function(t){let e=t.split(" ");return this.each((function(t){e.forEach((function(e){t.classList&&t.classList.add(e)}))})),this},window.Vent.prototype.removeClass=function(t){return this.each((function(e){e.classList.remove(t)})),this},window.Vent.prototype.html=function(t){return void 0===t?this.length?this[0].innerHTML:void 0:(this.each((function(e){e.innerHTML=t})),this)},window.Vent.prototype.text=function(t){return void 0===t?this.length?this[0].innerText:void 0:(this.each((function(e){e.innerText=t})),this)},window.Vent.prototype.is=function(t){let e,n=this[0];if(!n||void 0===t)return!1;if("string"==typeof t){if(n.matches)return n.matches(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);for(t=window.acc(t),e=0;e<t.length;e+=1)if(t[e]===n)return!0;return!1}if(t===document)return n===document;if(t===window)return n===window;if(t.nodeType||t instanceof window.Vent)for(t=t.nodeType?window.acc(t):t,e=0;e<t.length;e+=1)if(t[e]===n)return!0;return!1},window.Vent.prototype.parent=function(t){let e=window.acc();for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?window.acc(this[n].parentNode).is(t)&&e.add(this[n].parentNode):e.add(this[n].parentNode));return e},window.Vent.prototype.parents=function(t){let e=window.acc();for(let n=0;n<this.length;n+=1){let o=this[n].parentNode;for(;o;)t?window.acc(o).is(t)&&e.add(o):e.add(o),o=o.parentNode}return e},window.Vent.prototype.find=function(t){let e=window.acc();return this.each((function(n){n.nodeType&&1==n.nodeType&&e.add(n.querySelectorAll(t))})),e},window.Vent.prototype.append=function(t){return this.each((function(e){e.appendChild(t.cloneNode(!0))})),this},window.Vent.prototype.not=function(t){let e=window.acc();return this.each((function(n){"function"==typeof t?t(n)||e.add(n):n.matches(t)||e.add(n)})),e},window.Vent.prototype.on=function(...t){return o(this,{},t)},window.Vent.prototype.once=function(...t){return o(this,{once:!0},t)},window.Vent.prototype.off=function(n,o){return this.each(i=>((n,o,i)=>{const r=t.findIndex(([t])=>t===n);if(-1!==r){var[,c]=t[r],s=e(o);for(const t in c)-1===s.indexOf(t)&&o||!Object.prototype.hasOwnProperty.call(c,t)||!Array.isArray(c[t])||(c[t]=c[t].filter(e=>i&&e.c!==i||(n.removeEventListener(t,e),!1)),o||delete c[t]);o||t.splice(r,1)}})(i,n,o))},window.Vent.prototype.trigger=function(t,{data:n,options:o}={}){return this.each(i=>((t,n,o,i)=>{const r="function"==typeof t.dispatchEvent;e(n).forEach(e=>{const n=void 0!==document["on"+e];let c;c=o||!n?new CustomEvent(e,Object.assign({detail:o,bubbles:!0},i)):new Event(e,Object.assign({bubbles:!0},i)),n&&"function"==typeof t[e]&&t[e](),r&&t.dispatchEvent(c)})})(i,t,n,o))};let o=(t,o,[i,...r])=>{if(r.length){var{length:c,[c-1]:s,[c-2]:a}=r,d=e(i);return t.each(t=>d.forEach(e=>((t,e,o,{b:i,once:r})=>{const c=n=>{var s=n.target;i&&"string"==typeof i&&!(s&&("function"==typeof s.matches?s.matches(i):"function"==typeof s.msMatchesSelector&&s.msMatchesSelector(i))||t.contains(s.closest(i)))||(o.call(i?n.target:t,n,n&&n.detail),r&&t.removeEventListener(e,c))};c.c=o,t.addEventListener(e,c),r||n(t,e,c)})(t,e,s,{...o,b:a})))}};window.acc.isVisible=function(t){return!(t.hasAttribute("disabled")||"true"===t.getAttribute("aria-hidden")||null===t.offsetParent)},window.acc.toFocus=function(t,e,n){let o=(n=document.querySelectorAll(n)).length;var i=document.activeElement;let r=0,c=0;for(let t=0;t<o;t++)if(n[t]==i){r=c=t;break}for(i="+"==e?c+1:c-1;i!=r;){if(n[i].classList.contains(t)&&window.acc.isVisible(n[i])){c=i;break}(i="+"==e?i+1:i-1)>=o&&(i=0),0>i&&(i=o-1)}c==r?document.title=c:("div"!=(t=n[c].tagName.toLowerCase())&&"span"!=t&&"p"!=t||n[c].hasAttribute("tabindex")||n[c].setAttribute("tabindex","0"),n[c].focus())},window.acc.nextFocus=function(t,e){window.acc.toFocus(t,"+",e)},window.acc.previousFocus=function(t,e){window.acc.toFocus(t,"-",e)},window.acc.registerHotkeys=function(t){t.forEach((function(t){if(void 0!==t.accesskey){var e="accesskey-"+t.accesskey.replace(/\+/g,"-"),n="next"==t.toward?"+":"-",o="all"==t.range?"*":t.f;window.acc(t.selector).addClass(e),window.Mousetrap.bind(t.accesskey,(function(){return window.acc.toFocus(e,n,o),!1}))}}))},window.acc})();
